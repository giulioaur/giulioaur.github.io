const GLOBALS={inputMap:{back:[66,27],select:[13],down:[83,40],left:[65,37],up:[87,38],right:[68,39]},loadingPercentage:0,tip:['Do you know? Sometimes a bug can be called "feature".',"Stealing data from your pc....","Optimizing assembly code...","Have a puuuurfect day :3",'Once a great sage said: "Bau Bau Bau"',"Stop procrastinating and do your job!!"],scrollPanel:undefined};var menuGraph;const imageLoader={_images:[],loadImage(url){this._images.push(new Promise((resolve,reject)=>{const image=new Image;img.addEventListener("load",()=>resolve());img.addEventListener("error",()=>reject());image.url=url}))},async waitForLoading(){const areCorrectlyLoaded=await Promise.all(this._images).then(()=>true).catch(()=>false);return areCorrectlyLoaded}};(function startLoading(){const setTip=()=>{const tipBox=document.getElementById("m-loading-tip");if(tipBox){tipBox.textContent=GLOBALS.tip[Math.floor(Math.random()*GLOBALS.tip.length)];tipBox.classList.remove("m-black");return true}return false};const startAnimation=()=>{const image=document.getElementById("m-loading-image");if(image){const animation=TweenMax.to(image,3,{rotationY:360*3,ease:Power4.easeOut,onComplete:()=>{if(GLOBALS.loadingPercentage!=100){animation.restart()}}});return true}return false};let isTipCreated=false,startedAnimation=false;let loadingCheck=setInterval(()=>{if(!isTipCreated)isTipCreated=setTip();if(!startedAnimation)startedAnimation=startAnimation();const percentageBar=document.getElementById("m-loading-bar-percentage");if(percentageBar)percentageBar.style.width=GLOBALS.loadingPercentage+"%";if(GLOBALS.loadingPercentage==100){setTimeout(()=>{document.getElementById("m-loading").style.display="none";clearInterval(loadingCheck)},800)}},200)})();function setupPage(){GLOBALS.loadingPercentage=30;dynamicGeneration();GLOBALS.loadingPercentage=50;menuGraph=new SM.Graph({shouldSave:false,logError:true,playFirstAnimation:false});GLOBALS.loadingPercentage=70;bindAnimations();GLOBALS.loadingPercentage=73;SM.input.bindInput(menuGraph,GLOBALS.inputMap,{firstFocus:true});GLOBALS.loadingPercentage=87;GLOBALS.loadingPercentage=93;initScrollbar();menuGraph.addDataCallback((oldMenu,newMenu)=>{$(newMenu).show();initScrollbar(true);return true},true);menuGraph.addDataCallback(initScrollbar,false);GLOBALS.loadingPercentage=95;setupCredits();imageLoader.waitForLoading();GLOBALS.loadingPercentage=100}function resizePage(){initScrollbar()}function initScrollbar(shouldMantain=false){const scrollPanels=document.getElementById("m-menu-container");GLOBALS.scrollPanel=$(scrollPanels).jScrollPane({contentWidth:1,maintainPosition:shouldMantain}).data("jsp");$(scrollPanels).bind("jsp-will-scroll-y",getGhostScrollbarCallback(scrollPanels));getGhostScrollbarCallback(scrollPanels)();updateScrollingPanelHeight()}function getGhostScrollbarCallback(container,delay=1e3){let fadingCallback;return(event,destY)=>{const $scrollBar=$(container.querySelector(".jspVerticalBar"));const effectDurability=300;$scrollBar.fadeIn(effectDurability);if(fadingCallback){clearTimeout(fadingCallback)}fadingCallback=setTimeout(()=>{$scrollBar.fadeOut(effectDurability)},delay)}}function updateScrollingPanelHeight(){const jspContainer=document.querySelector("#sm-viewport .jspContainer");const height=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight;jspContainer.style.height=height-document.getElementById("sm-main-menu").offsetHeight+"px"}function setupCredits(){if(localStorage.getItem("swEffect")===null){localStorage.setItem("swEffect",true)}if(localStorage.getItem("swEffect")=="false")$("#sw-checkbox .form-check-input").click();$("#sw-checkbox .form-check-input").change(function(){const mustShowSWEffect=!$(this).is(":checked");localStorage.setItem("swEffect",mustShowSWEffect);if(mustShowSWEffect){hideCredits(()=>showSWEffect(initScrollbar))}else{hideSWEffect(()=>showCredits(initScrollbar))}initScrollbar()});const creditsContainer=document.getElementById("m-credits-container");document.getElementById("m-sw-box-content").innerHTML=creditsContainer.innerHTML}function dynamicGeneration(){generateSkills();generateExperiences()}function generateSkills(){let skillsList="";let skillCategory;for(skillCategory of GLOBALS.skills){skillCategory.forEach(skill=>{let skillImg="";const skillTag=skill.name.replace(/\s+/g,"-");if(skill.icon){const content=skill.iconContent?skill.iconContent:"";skillImg=`<i id="m-skills-${skillTag}-img" ${skill.icon}>${content}</i>`}if(skill.svg){skillImg=`<svg viewBox="0 0 128 128" id="m-skills-${skillTag}-img">${skill.svg}</svg>`}else if(skill.img){skillImg=`<img id="m-skills-${skillTag}-img" src="${skill.img}">`;imageLoader.loadImage(skill.img)}skillsList+=`\n            <div class="m-skill w-100 row m-0">\n                <div class="m-skill-left col-3 d-flex justify-content-around align-items-center">\n                    <span id="m-skill-symbol">${skillImg}</span>\n                    <i class="icomoon icomoon-trophy-plain ${skill.level}"></i>\n                </div>\n                <div class="m-skill-right col-9">\n                    <div class="m-skill-body row m-0 d-flex flex-col">\n                        <div class="m-skill-header w-100">\n                            ${skill.name}\n                        </div>\n                        <div class="m-skill-desc w-100">\n                            ${skill.description}\n                        </div>\n                    </div>\n                </div>   \n                <div class="h-divider col-12">\n                    <div class="m-shadow"></div>\n                </div>\n            </div>\n            `})}document.querySelector("#m-skills > .sm-main-layout > #m-skills-accordion").innerHTML=skillsList}function generateExperiences(){let experienceList="";let exp;const today=(new Date).toLocaleString("en-US",{year:"numeric",month:"numeric"}).split("/");GLOBALS.experiences.forEach((exp,index)=>{const dates=exp.time.replace(/\s+/g,"").split("-");const startDates=dates[0].split("/");const startDate=new Date(startDates[1],startDates[0]-1);const[elapsedYears,elapsedMonths]=computeElapsedTime(dates[0],dates[1]=="now"?today[0]+"/"+today[1]:dates[1]);const dateOptions={year:"numeric",month:"long"};const progress=dates[1]=="now"?Math.ceil((elapsedMonths+elapsedYears*12)*100/120):100;experienceList+=`\n            <div class="m-exp">\n                <div class="m-exp-header" id="headingOne">\n                    <div class="row" data-toggle="collapse" data-target="#exp-${index}" aria-expanded="${index==0}" aria-controls="exp-${index}">\n                        <div class="col-12 col-lg-5 d-flex flex-column m-exp-title">\n                            <h4>${exp.name}</h4>\n                            <h5>${exp.company}</h4>\n                        </div>\n                        <div class="col-6 col-lg-2 offset-lg-1 d-flex flex-column m-exp-start">\n                            <h4>First boot:</h4>\n                            <h5>${startDate.toLocaleString("en-US",dateOptions)}</h5>\n                        </div>\n                        <div class="col-6 col-lg-2 d-flex flex-column m-exp-total">\n                            <h4>Total time:</h4>\n                            <h5>${elapsedYears}y ${elapsedMonths}m</h5>\n                        </div>\n                        <div class="col-12 col-lg-2 d-flex flex-column align-items-center m-exp-progress">\n                            <h4>Progress:</h4>\n                            <div class="progress position-relative w-100">\n                                <div class="progress-bar position-absolute w-100 h-100" role="progressbar" aria-valuenow="${progress}" \n                                    aria-valuemin="0" aria-valuemax="100"></div>\n                                <div class="m-cover justify-content-center d-flex position-absolute w-100 h-100 m-primary-color">${progress}%</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div id="exp-${index}" class="collapse" aria-labelledby="headingOne" data-parent="#m-exp-accordion">\n                    <div class="m-exp-body">\n                        ${exp.description}   \n                    </div>\n                </div>\n            </div>\n        `});const expAccordion=document.querySelector("#m-experience > .sm-main-layout > #m-exp-accordion");expAccordion.innerHTML=experienceList;$(expAccordion.querySelectorAll(".m-exp")).on("show.bs.collapse",function(){this.classList.add("m-active")});$(expAccordion.querySelectorAll(".m-exp")).on("shown.bs.collapse",function(){initScrollbar(true)});$(expAccordion.querySelectorAll(".m-exp")).on("hide.bs.collapse",function(){this.classList.remove("m-active")})}Number.prototype.clamp=function(min,max){const first=min!==undefined?Math.max(this,min):this;return max!==undefined?Math.min(first,max):first};HTMLElement.prototype.fireEvent=function(eventName,bubbles=true,cancelable=true){let event=new Event(eventName,{view:window,bubbles:bubbles,cancelable:cancelable});this.dispatchEvent(event)};function getElementSize(element){const style=window.getComputedStyle(element);const verticalEmptySpace=Math.max(myParseInt(style.paddingTop),0)+Math.max(myParseInt(style.paddingBottom),0)+Math.max(myParseInt(style.borderTop),0)+Math.max(myParseInt(style.borderBottom),0);const horizontalEmptySpace=Math.max(myParseInt(style.paddingLeft),0)+Math.max(myParseInt(style.paddingRight),0)+Math.max(myParseInt(style.borderLeft),0)+Math.max(myParseInt(style.borderRight),0);return[element.offsetHeight-verticalEmptySpace,element.offsetWidth-horizontalEmptySpace]}function myParseInt(str,radix=10){const result=parseInt(str,radix);return result?result:0}function computeElapsedTime(from,to){const startDates=from.split("/");const endDates=to.split("/");const elapsedYears=endDates[1]-startDates[1];if(endDates[0]<startDates[0]){return[Math.max(elapsedYears-1,0),12-(startDates[0]-endDates[0])]}return[elapsedYears,endDates[0]-startDates[0]]}function bindAnimations(){itemHovering()}function itemHovering(){let $items=$("#m-carousel .sm-item");$items.bind("sm-activate",function(event){if(menuGraph.currentMenu.id=="sm-main-menu"){let hover=this.querySelector(".m-item-hover");if(hover){hover.classList.add("m-active");gsap.to(hover,{top:"-100%",duration:event.detail.reason!=SM.CONST.inputEvent.restoreFocus?.1:.001})}const backs=this.dataset["backg"].split(",");document.getElementById("m-background-land").style.backgroundImage=`url("Styles/Images/${backs[0]}")`;m_carousel.goToItem($items.index(this))}});$items.bind("sm-deactivate",function(event){if(menuGraph.currentMenu.id=="sm-main-menu"){let hover=this.querySelector(".m-item-hover");if(hover&&event.detail.reason!=SM.CONST.inputEvent.leaveMenu){gsap.to(hover,{top:0,duration:event.detail.reason!=SM.CONST.inputEvent.restoreFocus?.1:.001,onComplete:()=>{hover.classList.remove("m-active")}})}}})}function shouldShowSWEffect(){return localStorage.getItem("swEffect")=="true"}