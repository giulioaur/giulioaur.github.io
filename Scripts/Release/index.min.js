const GLOBALS={inputMap:{back:[66,27],select:[13],down:[83,40],left:[65,37],up:[87,38],right:[68,39]},loadingPercentage:0,tip:['Do you know? Sometimes a bug can be called "feature".',"Stealing data from your pc....","Optimizing assembly code...","Have a puuuurfect day :3",'Once a great sage said: "Bau Bau Bau"',"Stop procrastinating and do your job!!"],scrollPanel:void 0};var menuGraph;const imageLoader={_images:[],loadImage(e){this._images.push(new Promise(((t,n)=>{const a=new Image;a.onLoad=t,a.url=e})))},async waitForLoading(){return await Promise.all(this._images).then((()=>!0)).catch((()=>!1))}};function setupPage(){preLoadImages(),GLOBALS.loadingPercentage=30,dynamicGeneration(),GLOBALS.loadingPercentage=50,menuGraph=new SM.Graph({shouldSave:!1,logError:!1,playFirstAnimation:!1}),GLOBALS.loadingPercentage=70,bindAnimations(),GLOBALS.loadingPercentage=73,SM.input.bindInput(menuGraph,GLOBALS.inputMap,{firstFocus:!0}),GLOBALS.loadingPercentage=87,GLOBALS.loadingPercentage=93,initScrollbar(),menuGraph.addDataCallback(((e,t)=>($(t).show(),initScrollbar(!0),!0)),!0),menuGraph.addDataCallback(initScrollbar,!1),GLOBALS.loadingPercentage=95,setupCredits(),imageLoader.waitForLoading(),GLOBALS.loadingPercentage=100}function resizePage(){initScrollbar()}function initScrollbar(e=!1){const t=document.getElementById("m-menu-container");GLOBALS.scrollPanel=$(t).jScrollPane({contentWidth:1,maintainPosition:e}).data("jsp"),$(t).bind("jsp-will-scroll-y",getGhostScrollbarCallback(t)),getGhostScrollbarCallback(t)(),updateScrollingPanelHeight()}function getGhostScrollbarCallback(e,t=1e3){let n;return(a,i)=>{const o=$(e.querySelector(".jspVerticalBar"));o.fadeIn(300),n&&clearTimeout(n),n=setTimeout((()=>{o.fadeOut(300)}),t)}}function updateScrollingPanelHeight(){const e=document.querySelector("#sm-viewport .jspContainer"),t=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight;e.style.height=t-document.getElementById("sm-main-menu").offsetHeight+"px"}function setupCredits(){null===localStorage.getItem("swEffect")&&localStorage.setItem("swEffect",!0),"false"==localStorage.getItem("swEffect")&&$("#sw-checkbox .form-check-input").click(),$("#sw-checkbox .form-check-input").change((function(){const e=!$(this).is(":checked");localStorage.setItem("swEffect",e),e?hideCredits((()=>showSWEffect(initScrollbar))):hideSWEffect((()=>showCredits(initScrollbar))),initScrollbar()}));const e=document.getElementById("m-credits-container");document.getElementById("m-sw-box-content").innerHTML=e.innerHTML}function preLoadImages(){document.querySelectorAll("#sm-main-menu .sm-item").forEach((e=>{if(e.dataset.backg){const t=e.dataset.backg.split(",");imageLoader.loadImage(`Styles/Images/${t[0]}`),t.length>1&&imageLoader.loadImage(`Styles/Images/${t[1]}`)}}))}function dynamicGeneration(){generateSkills(),generateExperiences()}function generateSkills(){let e,t="";for(e of GLOBALS.skills)e.forEach((e=>{let n="";const a=e.name.replace(/\s+/g,"-");if(e.icon){const t=e.iconContent?e.iconContent:"";n=`<i id="m-skills-${a}-img" ${e.icon}>${t}</i>`}e.svg?n=`<svg viewBox="0 0 128 128" id="m-skills-${a}-img">${e.svg}</svg>`:e.img&&(n=`<img id="m-skills-${a}-img" src="${e.img}">`,imageLoader.loadImage(e.img)),t+=`\n            <div class="m-skill w-100 row m-0">\n                <div class="m-skill-left col-3 d-flex justify-content-around align-items-center">\n                    <span id="m-skill-symbol">${n}</span>\n                    <i class="icomoon icomoon-trophy-plain ${e.level}"></i>\n                </div>\n                <div class="m-skill-right col-9">\n                    <div class="m-skill-body row m-0 d-flex flex-col">\n                        <div class="m-skill-header w-100">\n                            ${e.name}\n                        </div>\n                        <div class="m-skill-desc w-100">\n                            ${e.description}\n                        </div>\n                    </div>\n                </div>   \n                <div class="h-divider col-12">\n                    <div class="m-shadow"></div>\n                </div>\n            </div>\n            `}));document.querySelector("#m-skills > .sm-main-layout > #m-skills-accordion").innerHTML=t}function generateExperiences(){let e="";const t=(new Date).toLocaleString("en-US",{year:"numeric",month:"numeric"}).split("/");GLOBALS.experiences.forEach(((n,a)=>{const i=n.time.replace(/\s+/g,"").split("-"),o=i[0].split("/"),l=new Date(o[1],o[0]-1),[s,c]=computeElapsedTime(i[0],"now"==i[1]?t[0]+"/"+t[1]:i[1]),r="now"==i[1]?Math.ceil(100*(c+12*s)/72):100;e+=`\n            <div class="m-exp">\n                <div class="m-exp-header" id="headingOne">\n                    <div class="row" data-toggle="collapse" data-target="#exp-${a}" aria-expanded="${0==a}" aria-controls="exp-${a}">\n                        <div class="col-12 col-lg-5 d-flex flex-column m-exp-title">\n                            <span>\n                                <span class="m-exp-icon-container">${n.icons}</span>\n                                <h4>${n.name}</h4>\n                            </span>\n                            <h5>${n.company}</h4>\n                        </div>\n                        <div class="col-6 col-lg-2 offset-lg-1 d-flex flex-column m-exp-start">\n                            <h4>First boot:</h4>\n                            <h5>${l.toLocaleString("en-US",{year:"numeric",month:"long"})}</h5>\n                        </div>\n                        <div class="col-6 col-lg-2 d-flex flex-column m-exp-total">\n                            <h4>Total time:</h4>\n                            <h5>${s}y ${c}m</h5>\n                        </div>\n                        <div class="col-12 col-lg-2 d-flex flex-column align-items-center m-exp-progress">\n                            <h4>Progress:</h4>\n                            <div class="progress position-relative w-100">\n                                <div class="progress-bar position-absolute w-100 h-100" role="progressbar" aria-valuenow="${r}" \n                                    aria-valuemin="0" aria-valuemax="100"></div>\n                                <div class="m-cover justify-content-center d-flex position-absolute w-100 h-100 m-primary-color">${r}%</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div id="exp-${a}" class="collapse" aria-labelledby="headingOne" data-parent="#m-exp-accordion">\n                    <div class="m-exp-body">\n                        ${n.description}   \n                    </div>\n                </div>\n            </div>\n        `}));const n=document.querySelector("#m-experience > .sm-main-layout > #m-exp-accordion");n.innerHTML=e,$(n.querySelectorAll(".m-exp")).on("show.bs.collapse",(function(){this.classList.add("m-active")})),$(n.querySelectorAll(".m-exp")).on("shown.bs.collapse",(function(){initScrollbar(!0)})),$(n.querySelectorAll(".m-exp")).on("hide.bs.collapse",(function(){this.classList.remove("m-active")}))}function getElementSize(e){const t=window.getComputedStyle(e),n=Math.max(myParseInt(t.paddingTop),0)+Math.max(myParseInt(t.paddingBottom),0)+Math.max(myParseInt(t.borderTop),0)+Math.max(myParseInt(t.borderBottom),0),a=Math.max(myParseInt(t.paddingLeft),0)+Math.max(myParseInt(t.paddingRight),0)+Math.max(myParseInt(t.borderLeft),0)+Math.max(myParseInt(t.borderRight),0);return[e.offsetHeight-n,e.offsetWidth-a]}function myParseInt(e,t=10){const n=parseInt(e,t);return n||0}function computeElapsedTime(e,t){const n=e.split("/"),a=t.split("/"),i=a[1]-n[1];return parseInt(a[0])<parseInt(n[0])?[Math.max(i-1,0),12-(n[0]-a[0])]:[i,a[0]-n[0]]}function isPortraitMode(){const e=window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth;return(window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight)/e>1}function bindAnimations(){itemHovering()}function itemHovering(){let e=$("#m-carousel .sm-item");e.bind("sm-activate",(function(t){if("sm-main-menu"==menuGraph.currentMenu.id){let n=this.querySelector(".m-item-hover");n&&(n.classList.add("m-active"),gsap.to(n,{top:"-100%",duration:t.detail.reason!=SM.CONST.inputEvent.restoreFocus?.1:.001}));const a=this.dataset.backg.split(",");document.getElementById("m-background-land").style.backgroundImage=`url("Styles/Images/${a[0]}")`,document.getElementById("m-background-port").style.backgroundImage=`url("Styles/Images/${a[a.length>1?1:0]}")`,m_carousel.goToItem(e.index(this))}})),e.bind("sm-deactivate",(function(e){if("sm-main-menu"==menuGraph.currentMenu.id){let t=this.querySelector(".m-item-hover");t&&e.detail.reason!=SM.CONST.inputEvent.leaveMenu&&gsap.to(t,{top:0,duration:e.detail.reason!=SM.CONST.inputEvent.restoreFocus?.1:.001,onComplete:()=>{t.classList.remove("m-active")}})}}))}function shouldShowSWEffect(){return"true"==localStorage.getItem("swEffect")}!function(){let e=!1,t=!1,n=setInterval((()=>{e||(e=(()=>{const e=document.getElementById("m-loading-tip");return!!e&&(e.textContent=GLOBALS.tip[Math.floor(Math.random()*GLOBALS.tip.length)],e.classList.remove("m-black"),!0)})()),t||(t=(()=>{const e=document.getElementById("m-loading-image");if(e){const t=TweenMax.to(e,3,{rotationY:1080,ease:Power4.easeOut,onComplete:()=>{100!=GLOBALS.loadingPercentage&&t.restart()}});return!0}return!1})());const a=document.getElementById("m-loading-bar-percentage");a&&(a.style.width=GLOBALS.loadingPercentage+"%"),100==GLOBALS.loadingPercentage&&setTimeout((()=>{document.getElementById("m-loading").style.display="none",clearInterval(n)}),800)}),200)}(),Number.prototype.clamp=function(e,t){const n=void 0!==e?Math.max(this,e):this;return void 0!==t?Math.min(n,t):n},HTMLElement.prototype.fireEvent=function(e,t=!0,n=!0){let a=new Event(e,{view:window,bubbles:t,cancelable:n});this.dispatchEvent(a)};